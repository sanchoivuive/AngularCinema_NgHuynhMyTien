    <section class="panel">
      <header class="panel-heading">
          <ng-container *ngIf='!isEditing;else editUser'>Add new user</ng-container>
          <ng-template #editUser>Edit User</ng-template>
          <span class="tools pull-right" >
              <a style="cursor: pointer;" class="fa fa-times" (click)='CloseModal()'></a>
              </span>
      </header>
      <div class="panel-body">
        <div class=" form" *ngIf='isEditing'>
            <form #frmUpdateUsers="ngForm" class="cmxform form-horizontal" id="commentForm"
            (ngSubmit)="UpdateUser(frmUpdateUsers.value);frmUpdateUsers.reset()"
            >

            <div class="form-group ">
              <label for="hoTen" class="control-label col-lg-2">Full Name</label>
              <div class="col-lg-6">
                <input type="text" class="form-control" id="hoTen" name="hoTen" minlength="4" maxlength="32" type="text" required #hoTen='ngModel' [(ngModel)]='userEditInput.hoTen'>
              </div>

              <!-- khu vực bắt lỗi -->
              <div class="col-lg-4 user_check_form" *ngIf="(hoTen.dirty || hoTen.touched) && hoTen.errors"> 
                  <i class="fa fa-long-arrow-left" style="color: red;"></i>
                  <span *ngIf="hoTen.errors.required" class="text-danger">
                 This field cant be blank
                </span>
                <span *ngIf="hoTen.errors.minlength || hoTen.errors.maxlength" class="text-danger">
                    At least 4 characters 
                </span>
                <i class="fa fa-thumbs-o-down"></i>
              </div>
              <div class="col-lg-4 fade in user_check_form" *ngIf="(hoTen.dirty || hoTen.touched) && !hoTen.errors">
                <i class="fa fa-thumbs-o-up"></i>
              </div>
            </div>

            <div class="form-group ">
                <label for="taiKhoan" class="control-label col-lg-2">Username
                    <span class="required">*</span>
                </label>
                <div class="col-lg-6">
                    <input class=" form-control" id="taiKhoan" name="taiKhoan" type="text" required #taiKhoan='ngModel' [(ngModel)]='userEditInput.taiKhoan'>
                </div>

                <div class="col-lg-4 user_check_form" *ngIf="(taiKhoan.dirty || taiKhoan.touched) && taiKhoan.errors"> 
                  <i class="fa fa-long-arrow-left" style="color: red;"></i>
                  <span *ngIf="taiKhoan.errors.required" class="text-danger">
                 This field cant be blank
                </span>
                <span *ngIf="taiKhoan.errors.minlength || taiKhoan.errors.maxlength" class="text-danger">
                    At least 4 characters 
                </span>
                <i class="fa fa-thumbs-o-down"></i>
              </div>
              <div class="col-lg-3 fade in user_check_form" *ngIf="(taiKhoan.dirty || taiKhoan.touched) && !taiKhoan.errors">
                <i class="fa fa-thumbs-o-up"></i>
              </div>

            </div>

            <div class="form-group ">
                <label for="matKhau" class="control-label col-lg-2">Password <span class="required">*</span></label>
                <div class="col-lg-6">
                    <input class="form-control " id="matKhau" name="matKhau" type="password" minlength="6" #matKhau='ngModel' [(ngModel)]='userEditInput.matKhau'>
                </div>

                <div class="col-lg-4 user_check_form" *ngIf="(matKhau.dirty || matKhau.touched) && matKhau.errors"> 
                  <i class="fa fa-long-arrow-left" style="color: red;"></i>
                  <span *ngIf="matKhau.errors.required" class="text-danger">
                 This field cant be blank
                </span>
                <span *ngIf="matKhau.errors.minlength" class="text-danger">
                    At least 6 characters 
                </span>
                <i class="fa fa-thumbs-o-down"></i>
              </div>
              <div class="col-lg-4 fade in user_check_form" *ngIf="(matKhau.dirty || matKhau.touched) && !matKhau.errors">
                <i class="fa fa-thumbs-o-up"></i>
              </div>

            </div>
                    
            <div class="form-group ">
                <label for="email" class="control-label col-lg-2">E-Mail <span class="required">*</span></label>
                <div class="col-lg-6">
                    <input class="form-control " id="email" type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" name="email" required #email='ngModel' [(ngModel)]='userEditInput.email'>
                </div>

                <div class="col-lg-4 user_check_form" *ngIf="(email.dirty || email.touched) && email.errors"> 
                  <i class="fa fa-long-arrow-left" style="color: red;"></i>
                  <span *ngIf="email.errors.required" class="text-danger">
                 This field cant be blank
                </span>
                <span *ngIf="email.errors.pattern" class="text-danger">
                    Not email format
                </span>
                <i class="fa fa-thumbs-o-down"></i>
              </div>
              <div class="col-lg-4 fade in user_check_form" *ngIf="(email.dirty || email.touched) && !email.errors">
                <i class="fa fa-thumbs-o-up"></i>
              </div>

            </div>

            <div class="form-group ">
                <label for="soDt" class="control-label col-lg-2">Phone number <span class="required">*</span></label>
                <div class="col-lg-6">
                    <input class="form-control " id="soDt" name="soDt" type='number' minlength="9" maxlength="10" required #soDt='ngModel' [(ngModel)]='userEditInput.soDt'>
                </div>

                <div class="col-lg-4 user_check_form" *ngIf="(soDt.dirty || soDt.touched) && soDt.errors"> 
                  <i class="fa fa-long-arrow-left" style="color: red;"></i>
                  <span *ngIf="soDt.errors.required" class="text-danger">
                 This field cant be blank
                </span>
                <span *ngIf="soDt.errors.minlength || soDt.errors.maxlength" class="text-danger">
                    Not VietNam phone number format
                </span>
                <i class="fa fa-thumbs-o-down"></i>
              </div>
              <div class="col-lg-4 fade in user_check_form" *ngIf="(soDt.dirty || soDt.touched) && !soDt.errors">
                <i class="fa fa-thumbs-o-up"></i>
              </div>

            </div>

            <div class="form-group ">
                <label for="maLoaiNguoiDung" class="control-label col-lg-2">Type of user <span class="required">*</span></label>
                <div class="col-lg-6">
                  <select required 
                   #maLoaiNguoiDung='ngModel' [(ngModel)]='userEditInput.maLoaiNguoiDung'
                   name="maLoaiNguoiDung" class="form-control">
                   <option value="" selected disabled>Please select</option>
                    <option *ngFor='let type of userTypes' [value]="type.maLoaiNguoiDung">{{type.tenLoai}}</option>
                  </select>
                </div>
            </div>

                    <div class="form-group ">
                        <div class="col-lg-offset-2 col-lg-6 modal_action">
                            <button class="btn btn-success modal_submit">Update</button>
                        </div>
                    </div>


                </form>
        </div>

        <div class=" form" *ngIf='!isEditing'>
            <form #frmAddUsers="ngForm" class="cmxform form-horizontal " 
            (ngSubmit)="register(frmAddUsers.value);frmAddUsers.reset()">

            <div class="form-group ">
              <label for="hoTen" class="control-label col-lg-2">Full Name</label>
              <div class="col-lg-6">
                <input type="text" class="form-control" id="hoTen" name="hoTen" minlength="4" maxlength="32" type="text" required ngModel #hoTen='ngModel'>
              </div>

             
              <div class="col-lg-4 user_check_form" *ngIf="(hoTen.dirty || hoTen.touched) && hoTen.errors"> 
                  <i class="fa fa-long-arrow-left" style="color: red;"></i>
                  <span *ngIf="hoTen.errors.required" class="text-danger">
                 This field cant be blank
                </span>
                <span *ngIf="hoTen.errors.minlength || hoTen.errors.maxlength" class="text-danger">
                    At least 4 characters 
                </span>
                <i class="fa fa-thumbs-o-down"></i>
              </div>
              <div class="col-lg-4 fade in user_check_form" *ngIf="(hoTen.dirty || hoTen.touched) && !hoTen.errors">
                <i class="fa fa-thumbs-o-up"></i>
              </div>
            </div>

            <div class="form-group ">
                <label for="taiKhoan" class="control-label col-lg-2">Username
                    <span class="required">*</span>
                </label>
                <div class="col-lg-6">
                    <input class=" form-control" id="taiKhoan" name="taiKhoan" minlength="4" type="text" required #taiKhoan='ngModel' ngModel>
                </div>

                <div class="col-lg-4 user_check_form" *ngIf="(taiKhoan.dirty || taiKhoan.touched) && taiKhoan.errors"> 
                  <i class="fa fa-long-arrow-left" style="color: red;"></i>
                  <span *ngIf="taiKhoan.errors.required" class="text-danger">
                 This field cant be blank
                </span>
                <span *ngIf="taiKhoan.errors.minlength || taiKhoan.errors.maxlength" class="text-danger">
                    At least 4 characters 
                </span>
                <i class="fa fa-thumbs-o-down"></i>
              </div>
              <div class="col-lg-4 fade in user_check_form" *ngIf="(taiKhoan.dirty || taiKhoan.touched) && !taiKhoan.errors">
                <i class="fa fa-thumbs-o-up"></i>
              </div>

            </div>

            <div class="form-group ">
                <label for="matKhau" class="control-label col-lg-2">Password <span class="required">*</span></label>
                <div class="col-lg-6">
                    <input class="form-control " id="matKhau" name="matKhau" type="text" minlength="6" #matKhau='ngModel' ngModel>
                </div>

                <div class="col-lg-4 user_check_form" *ngIf="(matKhau.dirty || matKhau.touched) && matKhau.errors"> 
                  <i class="fa fa-long-arrow-left" style="color: red;"></i>
                  <span *ngIf="matKhau.errors.required" class="text-danger">
                 This field cant be blank
                </span>
                <span *ngIf="matKhau.errors.minlength" class="text-danger">
                    At least 6 characters 
                </span>
                <i class="fa fa-thumbs-o-down"></i>
              </div>
              <div class="col-lg-4 fade in user_check_form" *ngIf="(matKhau.dirty || matKhau.touched) && !matKhau.errors">
                <i class="fa fa-thumbs-o-up"></i>
              </div>

            </div>
                    
            <div class="form-group ">
                <label for="email" class="control-label col-lg-2">E-Mail <span class="required">*</span></label>
                <div class="col-lg-6">
                    <input class="form-control " id="email" type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" name="email" required #email='ngModel' ngModel>
                </div>

                <div class="col-lg-4 user_check_form" *ngIf="(email.dirty || email.touched) && email.errors"> 
                  <i class="fa fa-long-arrow-left" style="color: red;"></i>
                  <span *ngIf="email.errors.required" class="text-danger">
                 This field cant be blank
                </span>
                <span *ngIf="email.errors.pattern" class="text-danger">
                    Not email format
                </span>
                <i class="fa fa-thumbs-o-down"></i>
              </div>
              <div class="col-lg-4 fade in user_check_form" *ngIf="(email.dirty || email.touched) && !email.errors">
                <i class="fa fa-thumbs-o-up"></i>
              </div>

            </div>

            <div class="form-group ">
                <label for="soDt" class="control-label col-lg-2">Phone number <span class="required">*</span></label>
                <div class="col-lg-6">
                    <input class="form-control " id="soDt" name="soDt" type='text' minlength="9" maxlength="10" required #soDt='ngModel' ngModel>
                </div>

                <div class="col-lg-4 user_check_form" *ngIf="(soDt.dirty || soDt.touched) && soDt.errors"> 
                  <i class="fa fa-long-arrow-left" style="color: red;"></i>
                  <span *ngIf="soDt.errors.required" class="text-danger">
                 This field cant be blank
                </span>
                <span *ngIf="soDt.errors.minlength || soDt.errors.maxlength" class="text-danger">
                    Not VietNam phone number format
                </span>
                <i class="fa fa-thumbs-o-down"></i>
              </div>
              <div class="col-lg-4 fade in user_check_form" *ngIf="(soDt.dirty || soDt.touched) && !soDt.errors">
                <i class="fa fa-thumbs-o-up"></i>
              </div>

            </div>

           
            <div class="form-group ">
                <label for="maLoaiNguoiDung" class="control-label col-lg-2">Type of user <span class="required">*</span></label>
                <div class="col-lg-6">
                  <select required
                   #maLoaiNguoiDung='ngModel' ngModel
                   name="maLoaiNguoiDung" class="form-control">
                   <option value="" selected disabled>Please select</option>
                    <option *ngFor='let type of userTypes' [value]="type.maLoaiNguoiDung">{{type.tenLoai}}</option>
                  </select>
                </div>
            </div>

                    <div class="form-group ">
                        <div class="col-lg-offset-2 col-lg-6 modal_action">
                            <button class="btn btn-info modal_submit" type="submit" >Submit</button>
                            <!-- <button class="btn btn-default" data-dismiss="modal" (click)='frm4Users.reset()'>Cancel</button> -->
                        </div>
                    </div>


                </form>
        </div>

        </div>

      </section>
